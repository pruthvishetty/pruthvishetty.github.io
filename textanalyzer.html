<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextAnalyzer - Advanced Text Analysis Tool</title>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --accent-color: #007bff;
            --success-color: #28a745;
            --error-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --shadow: 0 2px 10px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #404040;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --border-color: #404040;
            --accent-color: #4dabf7;
            --success-color: #51cf66;
            --error-color: #ff6b6b;
            --warning-color: #ffd43b;
            --info-color: #22d3ee;
            --shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: var(--transition);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .logo i {
            font-size: 1.8rem;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            background-color: var(--accent-color);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .theme-toggle {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background-color: var(--accent-color);
            color: white;
        }

        .main-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            min-height: calc(100vh - 80px);
        }

        .text-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .panel-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .panel-header {
            padding: 1rem 1.5rem;
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .text-input-container {
            position: relative;
            flex: 1;
        }

        #textInput {
            width: 100%;
            min-height: 400px;
            border: none;
            outline: none;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            resize: vertical;
            transition: var(--transition);
        }

        #textInput::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
            font-family: 'Open Sans', sans-serif;
        }

        .utility-bar {
            padding: 1rem 1.5rem;
            background-color: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .utility-btn {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            border-radius: 4px;
        }

        .stats-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .stat-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .stat-card:hover {
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-color);
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-weight: 500;
        }

        .detailed-stats {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .detailed-stats h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-row-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stat-row-value {
            color: var(--text-primary);
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        .reading-time {
            background: linear-gradient(135deg, var(--info-color), var(--accent-color));
            color: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 1rem;
        }

        .reading-time-number {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        .reading-time-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 0.25rem;
        }

        .text-tools {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .text-tools h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }

        .tool-btn {
            padding: 0.6rem;
            font-size: 0.8rem;
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .tool-btn:hover {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                padding: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .stat-number {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 0.8rem 1rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            .main-container {
                padding: 1rem;
                gap: 1rem;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }

            #textInput {
                padding: 1rem;
                font-size: 16px; /* Prevents zoom on iOS */
                min-height: 300px;
            }

            .utility-bar {
                padding: 0.8rem;
            }

            .header-controls {
                gap: 0.5rem;
            }

            .btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }

            .tool-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .stat-number {
                font-size: 1.8rem;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--accent-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Scrollbar styling */
        #textInput::-webkit-scrollbar {
            width: 8px;
        }

        #textInput::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        #textInput::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        #textInput::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* Success feedback */
        .success-feedback {
            background-color: var(--success-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.8rem;
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body data-theme="light">
    <div class="header">
        <div class="logo">
            <i class="fas fa-chart-line"></i>
            TextAnalyzer
        </div>
        <div class="header-controls">
            <button class="btn utility-btn" onclick="copyText()">
                <i class="fas fa-copy"></i> Copy Text
            </button>
            <button class="btn utility-btn" onclick="clearText()">
                <i class="fas fa-trash"></i> Clear
            </button>
            <button class="btn utility-btn" onclick="loadSample()">
                <i class="fas fa-file-import"></i> Sample
            </button>
            <button class="theme-toggle" onclick="toggleTheme()">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>

    <div class="main-container">
        <div class="text-panel">
            <div class="panel-card text-input-container">
                <div class="panel-header">
                    <i class="fas fa-edit"></i>
                    Text Input
                </div>
                <textarea 
                    id="textInput" 
                    placeholder="Start typing or paste your text here to analyze...

You can paste articles, essays, blog posts, or any text content to get detailed statistics including word count, character count, reading time, and more.

This tool works completely offline - your text never leaves your browser!"
                    oninput="analyzeText()"
                ></textarea>
                <div class="utility-bar">
                    <button class="btn utility-btn btn-secondary" onclick="formatText()">
                        <i class="fas fa-align-left"></i> Format
                    </button>
                    <button class="btn utility-btn btn-secondary" onclick="removeExtraSpaces()">
                        <i class="fas fa-compress-alt"></i> Clean Spaces
                    </button>
                    <button class="btn utility-btn btn-secondary" onclick="removeDuplicateLines()">
                        <i class="fas fa-layer-group"></i> Remove Duplicates
                    </button>
                </div>
            </div>
        </div>

        <div class="stats-panel">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="wordCount">0</div>
                    <div class="stat-label">Words</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="charCount">0</div>
                    <div class="stat-label">Characters</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="charCountNoSpaces">0</div>
                    <div class="stat-label">Chars (no spaces)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="lineCount">0</div>
                    <div class="stat-label">Lines</div>
                </div>
            </div>

            <div class="detailed-stats">
                <h3><i class="fas fa-chart-bar"></i> Detailed Analysis</h3>
                <div class="stat-row">
                    <span class="stat-row-label">Paragraphs</span>
                    <span class="stat-row-value" id="paragraphCount">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-row-label">Sentences</span>
                    <span class="stat-row-value" id="sentenceCount">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-row-label">Average words/sentence</span>
                    <span class="stat-row-value" id="avgWordsPerSentence">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-row-label">Average chars/word</span>
                    <span class="stat-row-value" id="avgCharsPerWord">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-row-label">Longest word</span>
                    <span class="stat-row-value" id="longestWord">-</span>
                </div>
                <div class="stat-row">
                    <span class="stat-row-label">Most frequent word</span>
                    <span class="stat-row-value" id="mostFrequentWord">-</span>
                </div>
            </div>

            <div class="reading-time">
                <div class="reading-time-number" id="readingTime">0</div>
                <div class="reading-time-label">min read</div>
            </div>

            <div class="text-tools">
                <h3><i class="fas fa-tools"></i> Text Tools</h3>
                <div class="tool-grid">
                    <button class="tool-btn" onclick="convertCase('upper')">
                        <i class="fas fa-arrow-up"></i> UPPERCASE
                    </button>
                    <button class="tool-btn" onclick="convertCase('lower')">
                        <i class="fas fa-arrow-down"></i> lowercase
                    </button>
                    <button class="tool-btn" onclick="convertCase('title')">
                        <i class="fas fa-text-height"></i> Title Case
                    </button>
                    <button class="tool-btn" onclick="convertCase('sentence')">
                        <i class="fas fa-align-left"></i> Sentence case
                    </button>
                    <button class="tool-btn" onclick="reverseText()">
                        <i class="fas fa-exchange-alt"></i> Reverse
                    </button>
                    <button class="tool-btn" onclick="sortLines()">
                        <i class="fas fa-sort-alpha-down"></i> Sort Lines
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentTheme = 'light';
        let analysisTimeout = null;

        // Theme toggle functionality
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', currentTheme);
            
            const icon = document.querySelector('.theme-toggle i');
            icon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            
            // Save theme preference
            localStorage.setItem('textanalyzer-theme', currentTheme);
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('textanalyzer-theme') || 'light';
            currentTheme = savedTheme;
            document.body.setAttribute('data-theme', currentTheme);
            
            const icon = document.querySelector('.theme-toggle i');
            icon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
        }

        // Main text analysis function
        function analyzeText() {
            // Clear previous timeout for debouncing
            if (analysisTimeout) {
                clearTimeout(analysisTimeout);
            }

            // Debounce analysis for better performance
            analysisTimeout = setTimeout(() => {
                const text = document.getElementById('textInput').value;
                
                // Basic counts
                const wordCount = countWords(text);
                const charCount = text.length;
                const charCountNoSpaces = text.replace(/\s/g, '').length;
                const lineCount = text ? text.split('\n').length : 0;
                
                // Advanced analysis
                const paragraphCount = countParagraphs(text);
                const sentenceCount = countSentences(text);
                const avgWordsPerSentence = sentenceCount > 0 ? Math.round(wordCount / sentenceCount * 10) / 10 : 0;
                const avgCharsPerWord = wordCount > 0 ? Math.round(charCountNoSpaces / wordCount * 10) / 10 : 0;
                const longestWord = findLongestWord(text);
                const mostFrequentWord = findMostFrequentWord(text);
                const readingTime = calculateReadingTime(wordCount);

                // Update UI
                document.getElementById('wordCount').textContent = wordCount.toLocaleString();
                document.getElementById('charCount').textContent = charCount.toLocaleString();
                document.getElementById('charCountNoSpaces').textContent = charCountNoSpaces.toLocaleString();
                document.getElementById('lineCount').textContent = lineCount.toLocaleString();
                document.getElementById('paragraphCount').textContent = paragraphCount.toLocaleString();
                document.getElementById('sentenceCount').textContent = sentenceCount.toLocaleString();
                document.getElementById('avgWordsPerSentence').textContent = avgWordsPerSentence;
                document.getElementById('avgCharsPerWord').textContent = avgCharsPerWord;
                document.getElementById('longestWord').textContent = longestWord || '-';
                document.getElementById('mostFrequentWord').textContent = mostFrequentWord || '-';
                document.getElementById('readingTime').textContent = readingTime;
            }, 100);
        }

        // Count words
        function countWords(text) {
            if (!text.trim()) return 0;
            return text.trim().split(/\s+/).filter(word => word.length > 0).length;
        }

        // Count paragraphs
        function countParagraphs(text) {
            if (!text.trim()) return 0;
            return text.trim().split(/\n\s*\n/).filter(para => para.trim().length > 0).length;
        }

        // Count sentences
        function countSentences(text) {
            if (!text.trim()) return 0;
            return text.split(/[.!?]+/).filter(sentence => sentence.trim().length > 0).length;
        }

        // Find longest word
        function findLongestWord(text) {
            if (!text.trim()) return '';
            const words = text.toLowerCase().match(/\b\w+\b/g) || [];
            return words.reduce((longest, current) => 
                current.length > longest.length ? current : longest, '');
        }

        // Find most frequent word
        function findMostFrequentWord(text) {
            if (!text.trim()) return '';
            
            const words = text.toLowerCase().match(/\b\w+\b/g) || [];
            if (words.length === 0) return '';
            
            const frequency = {};
            words.forEach(word => {
                if (word.length > 2) { // Ignore very short words
                    frequency[word] = (frequency[word] || 0) + 1;
                }
            });
            
            if (Object.keys(frequency).length === 0) return '';
            
            return Object.keys(frequency).reduce((a, b) => 
                frequency[a] > frequency[b] ? a : b);
        }

        // Calculate reading time (average 200 words per minute)
        function calculateReadingTime(wordCount) {
            if (wordCount === 0) return 0;
            const wordsPerMinute = 200;
            const minutes = Math.ceil(wordCount / wordsPerMinute);
            return minutes;
        }

        // Copy text to clipboard
        async function copyText() {
            const textInput = document.getElementById('textInput');
            const text = textInput.value;
            
            if (!text.trim()) {
                showFeedback('Nothing to copy', 'error');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(text);
                showFeedback('Text copied to clipboard!');
            } catch (error) {
                // Fallback for older browsers
                textInput.select();
                document.execCommand('copy');
                showFeedback('Text copied to clipboard!');
            }
        }

        // Clear text
        function clearText() {
            if (confirm('Clear all text?')) {
                document.getElementById('textInput').value = '';
                analyzeText();
            }
        }

        // Load sample text
        function loadSample() {
            const sampleText = `The Art of Writing

Writing is both an art and a craft that requires dedication, practice, and patience. It's a powerful tool for communication, self-expression, and storytelling that has shaped human civilization for thousands of years.

Whether you're crafting a novel, composing an email, or jotting down notes, every piece of writing serves a purpose. The beauty of writing lies in its versatility - it can inform, persuade, entertain, or inspire.

Good writing is clear, concise, and engaging. It respects the reader's time while delivering value. Remember, the best writing often comes from rewriting. Don't be afraid to edit, revise, and refine your work.

Practice regularly, read widely, and never stop learning. Every word you write is a step forward in your journey as a writer.`;

            document.getElementById('textInput').value = sampleText;
            analyzeText();
        }

        // Text formatting and cleaning functions
        function formatText() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value;
            
            // Basic formatting: normalize line breaks and spacing
            text = text.replace(/\r\n/g, '\n')  // Normalize line breaks
                      .replace(/\n{3,}/g, '\n\n')  // Max 2 consecutive line breaks
                      .replace(/[ \t]+/g, ' ')  // Replace multiple spaces/tabs with single space
                      .trim();
            
            textInput.value = text;
            analyzeText();
            showFeedback('Text formatted!');
        }

        function removeExtraSpaces() {
            const textInput = document.getElementById('textInput');
            let text = textInput.value;
            
            text = text.replace(/[ \t]+/g, ' ')  // Multiple spaces to single space
                      .replace(/\n /g, '\n')     // Remove spaces at start of lines
                      .replace(/ \n/g, '\n')     // Remove spaces at end of lines
                      .trim();
            
            textInput.value = text;
            analyzeText();
            showFeedback('Extra spaces removed!');
        }

        function removeDuplicateLines() {
            const textInput = document.getElementById('textInput');
            const lines = textInput.value.split('\n');
            const uniqueLines = [...new Set(lines)];
            
            textInput.value = uniqueLines.join('\n');
            analyzeText();
            showFeedback('Duplicate lines removed!');
        }

        // Case conversion functions
        function convertCase(caseType) {
            const textInput = document.getElementById('textInput');
            let text = textInput.value;
            
            if (!text.trim()) {
                showFeedback('No text to convert', 'error');
                return;
            }
            
            switch(caseType) {
                case 'upper':
                    text = text.toUpperCase();
                    break;
                case 'lower':
                    text = text.toLowerCase();
                    break;
                case 'title':
                    text = text.replace(/\w\S*/g, (txt) => 
                        txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());
                    break;
                case 'sentence':
                    text = text.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, (c) => 
                        c.toUpperCase());
                    break;
            }
            
            textInput.value = text;
            analyzeText();
            showFeedback(`Converted to ${caseType} case!`);
        }

        // Reverse text
        function reverseText() {
            const textInput = document.getElementById('textInput');
            const text = textInput.value;
            
            if (!text.trim()) {
                showFeedback('No text to reverse', 'error');
                return;
            }
            
            textInput.value = text.split('').reverse().join('');
            analyzeText();
            showFeedback('Text reversed!');
        }

        // Sort lines alphabetically
        function sortLines() {
            const textInput = document.getElementById('textInput');
            const lines = textInput.value.split('\n');
            
            if (lines.length <= 1) {
                showFeedback('Need multiple lines to sort', 'error');
                return;
            }
            
            const sortedLines = lines.sort((a, b) => a.localeCompare(b));
            textInput.value = sortedLines.join('\n');
            analyzeText();
            showFeedback('Lines sorted alphabetically!');
        }

        // Show feedback message
        function showFeedback(message, type = 'success') {
            const feedback = document.createElement('div');
            feedback.className = 'success-feedback';
            feedback.textContent = message;
            
            if (type === 'error') {
                feedback.style.backgroundColor = 'var(--error-color)';
            }
            
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.remove();
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'k':
                            e.preventDefault();
                            clearText();
                            break;
                        case 'l':
                            e.preventDefault();
                            loadSample();
                            break;
                    }
                }
            });
            
            // Initial analysis
            analyzeText();
        });
    </script>
    <script src="js/privacy-counter.js"></script>
    
    <!-- GoatCounter Analytics (Privacy-First) -->
    <script data-goatcounter="https://pruthvishetty.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    
    <script>
        // Initialize privacy counter for TextAnalyzer
        document.addEventListener('DOMContentLoaded', function() {
            // Add counter container after the header
            const header = document.querySelector('.header');
            if (header) {
                header.insertAdjacentHTML('afterend', '<div id="textanalyzer-counter"></div>');
            }
            
            // Initialize counter
            const counter = new PrivacyCounter('textanalyzer', 'textanalyzer-counter');
        });
    </script>
</body>
</html>
